!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=6)}([function(t,e,r){var n;t.exports=function t(e,r,i){function s(a,h){if(!r[a]){if(!e[a]){var l="function"==typeof n&&n;if(!h&&l)return n(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=r[a]={exports:{}};e[a][0].call(d.exports,function(t){var r=e[a][1][t];return s(r||t)},d,d.exports,t,e,r,i)}return r[a].exports}for(var o="function"==typeof n&&n,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(t,e,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function s(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,r,n,a,h,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(o(r=this._events[t]))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(s(r))for(a=Array.prototype.slice.call(arguments,1),l=r.slice(),n=l.length,h=0;h<n;h++)l[h].apply(this,a);return!0},n.prototype.addListener=function(t,e){var r;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(r=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var r,n,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],o=r.length,n=-1,r===e||i(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(r)){for(a=o;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],2:[function(t,e,r){var n,i,s,o,a;a=navigator.userAgent.toLowerCase(),o=navigator.platform.toLowerCase(),n=a.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],s="ie"===n[1]&&document.documentMode,(i={name:"version"===n[1]?n[3]:n[1],version:s||parseFloat("opera"===n[1]&&n[4]?n[4]:n[2]),platform:{name:a.match(/ip(?:ad|od|hone)/)?"ios":(a.match(/(?:webos|android)/)||o.match(/mac|win|linux/)||["other"])[0]}})[i.name]=!0,i[i.name+parseInt(i.version,10)]=!0,i.platform[i.platform.name]=!0,e.exports=i},{}],3:[function(t,e,r){var n,i,s,o={}.hasOwnProperty,a=[].indexOf||function(t){for(var e=0,r=this.length;e<r;e++)if(e in this&&this[e]===t)return e;return-1},h=[].slice;n=t("events").EventEmitter,s=t("./browser.coffee"),i=function(t){var e,r;function n(t){var r,n,i;for(n in this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(t),e)i=e[n],null==(r=this.options)[n]&&(r[n]=i)}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(n,t),e={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},r={delay:500,copy:!1},n.prototype.setOption=function(t,e){if(this.options[t]=e,null!=this._canvas&&("width"===t||"height"===t))return this._canvas[t]=e},n.prototype.setOptions=function(t){var e,r,n;for(e in r=[],t)o.call(t,e)&&(n=t[e],r.push(this.setOption(e,n)));return r},n.prototype.addFrame=function(t,e){var n,i;for(i in null==e&&(e={}),(n={}).transparent=this.options.transparent,r)n[i]=e[i]||r[i];if(null==this.options.width&&this.setOption("width",t.width),null==this.options.height&&this.setOption("height",t.height),"undefined"!=typeof ImageData&&null!==ImageData&&t instanceof ImageData)n.data=t.data;else if("undefined"!=typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&t instanceof CanvasRenderingContext2D||"undefined"!=typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&t instanceof WebGLRenderingContext)e.copy?n.data=this.getContextData(t):n.context=t;else{if(null==t.childNodes)throw new Error("Invalid image");e.copy?n.data=this.getImageData(t):n.image=t}return this.frames.push(n)},n.prototype.render=function(){var t,e,r;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var t,e,r;for(r=[],t=0,e=this.frames.length;0<=e?t<e:t>e;0<=e?++t:--t)r.push(null);return r}.call(this),e=this.spawnWorkers(),!0===this.options.globalPalette)this.renderNextFrame();else for(t=0,r=e;0<=r?t<r:t>r;0<=r?++t:--t)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},n.prototype.abort=function(){for(var t;null!=(t=this.activeWorkers.shift());)this.log("killing active worker"),t.terminate();return this.running=!1,this.emit("abort")},n.prototype.spawnWorkers=function(){var t,e,r,n;return t=Math.min(this.options.workers,this.frames.length),function(){r=[];for(var n=e=this.freeWorkers.length;e<=t?n<t:n>t;e<=t?n++:n--)r.push(n);return r}.apply(this).forEach((n=this,function(t){var e;return n.log("spawning worker "+t),(e=new Worker(n.options.workerScript)).onmessage=function(t){return n.activeWorkers.splice(n.activeWorkers.indexOf(e),1),n.freeWorkers.push(e),n.frameFinished(t.data)},n.freeWorkers.push(e)})),t},n.prototype.frameFinished=function(t){var e,r;if(this.log("frame "+t.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[t.index]=t,!0===this.options.globalPalette&&(this.options.globalPalette=t.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(e=1,r=this.freeWorkers.length;1<=r?e<r:e>r;1<=r?++e:--e)this.renderNextFrame();return a.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},n.prototype.finishRendering=function(){var t,e,r,n,i,s,o,a,h,l,c,d,u,p,f,m;for(a=0,p=this.imageParts,i=0,h=p.length;i<h;i++)e=p[i],a+=(e.data.length-1)*e.pageSize+e.cursor;for(a+=e.pageSize-e.cursor,this.log("rendering finished - filesize "+Math.round(a/1e3)+"kb"),t=new Uint8Array(a),d=0,f=this.imageParts,s=0,l=f.length;s<l;s++)for(e=f[s],m=e.data,r=o=0,c=m.length;o<c;r=++o)u=m[r],t.set(u,d),r===e.data.length-1?d+=e.cursor:d+=e.pageSize;return n=new Blob([t],{type:"image/gif"}),this.emit("finished",n,t)},n.prototype.renderNextFrame=function(){var t,e,r;if(0===this.freeWorkers.length)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return t=this.frames[this.nextFrame++],r=this.freeWorkers.shift(),e=this.getTask(t),this.log("starting frame "+(e.index+1)+" of "+this.frames.length),this.activeWorkers.push(r),r.postMessage(e)},n.prototype.getContextData=function(t){return t.getImageData(0,0,this.options.width,this.options.height).data},n.prototype.getImageData=function(t){var e;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),(e=this._canvas.getContext("2d")).setFill=this.options.background,e.fillRect(0,0,this.options.width,this.options.height),e.drawImage(t,0,0),this.getContextData(e)},n.prototype.getTask=function(t){var e,r;if(e=this.frames.indexOf(t),r={index:e,last:e===this.frames.length-1,delay:t.delay,transparent:t.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:"chrome"===s.name},null!=t.data)r.data=t.data;else if(null!=t.context)r.data=this.getContextData(t.context);else{if(null==t.image)throw new Error("Invalid frame");r.data=this.getImageData(t.image)}return r},n.prototype.log=function(){var t;if(t=1<=arguments.length?h.call(arguments,0):[],this.options.debug)return console.log.apply(console,t)},n}(n),e.exports=i},{"./browser.coffee":2,events:1}]},{},[3])(3)},function(t,e,r){var n=r(2);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(4)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(3)(!1)).push([t.i,"body {\r\n    height: 100%;\r\n    background-color: rgb(0, 0, 0);\r\n    color: rgb(255, 255, 255);\r\n}\r\n\r\nh1 {\r\n    background-color: rgb(90, 90, 90);\r\n    border: 3px solid rgb(55, 55, 55);\r\n    border-radius: 5px;\r\n    text-align: center;\r\n    font-size: 20px;\r\n}\r\n\r\nmain {\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n\r\n.tools {\r\n    display: flex;\r\n    width: 100px;\r\n    flex-direction: column;\r\n}\r\n\r\n.instruments {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    background-color: rgb(90, 90, 90);\r\n    border: 3px solid rgb(55, 55, 55);\r\n    border-radius: 5px;\r\n}\r\n\r\n#width {\r\n    width: 80px;\r\n}\r\n\r\n.pen,\r\n.line, \r\n.eraser,\r\n.bucket-full,\r\n.bucket,\r\n.pipette,\r\n.lighten,\r\n.blackout,\r\n.move,\r\n.rectngle,\r\n.stroke-rectngle,\r\n.circle,\r\n.stroke-circle {\r\n    height: 40px;\r\n    width: 40px;\r\n    margin: 3px 3px;\r\n    border-radius: 5px;\r\n    border: 1px solid rgb(0, 0, 0);\r\n    background-color: rgb(255, 255, 255);\r\n}\r\n\r\n.colors {\r\n    display: grid;\r\n    width: 300px;\r\n    margin: 20px auto;\r\n    font-size: 20px;\r\n}\r\n\r\n.frames {\r\n    margin: 0 40px;\r\n    max-height: 500px;\r\n    overflow-y: scroll;\r\n    background-color: rgb(90, 90, 90);\r\n    border: 3px solid rgb(55, 55, 55);\r\n    border-radius: 5px;\r\n}\r\n\r\n.frames::-webkit-scrollbar {\r\n    width: 1px;\r\n    background-color: rgb(255, 255, 255);\r\n}\r\n\r\n.frames::-webkit-scrollbar-thumb {\r\n    background-color: rgb(0, 0, 0);\r\n}\r\n\r\n.frame-wrapper {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.frame {\r\n    position: relative;\r\n    width: 100px;\r\n    height: 100px;\r\n    margin: 5px auto;\r\n    border: 1px solid rgb(0, 0, 0);\r\n    background-size: 100%;\r\n    background-repeat: no-repeat;\r\n}\r\n\r\n#prevCanvas_img {\r\n    width: 100%;\r\n    height: 100% ;\r\n}\r\n\r\n.button-delete {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    border-radius: 5px;\r\n}\r\n\r\n.button-copy {\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 0;\r\n    border-radius: 5px;\r\n\r\n}\r\n\r\n.add,\r\n.save {\r\n    border-radius: 5px;\r\n    margin: 5px 5px;\r\n    width: 50px;\r\n    height: 50px;\r\n    text-align: center;\r\n    border-radius: 5px;\r\n    border: 1px solid rgb(0, 0, 0);\r\n    background-color: rgb(255, 255, 255);\r\n}\r\n\r\n.canvas {\r\n    flex-grow: 5;\r\n    position: relative;\r\n}\r\n\r\n#myColor {\r\n    z-index: 1;\r\n    width: 650px;\r\n    height: 460px;\r\n    position: absolute;\r\n    background-color: rgb(255, 255, 255);\r\n}\r\n\r\n#myCanvas {\r\n    z-index: 4;\r\n    position: absolute;\r\n    border-radius: 5px;\r\n}\r\n\r\n.canvasLayer{\r\n    z-index: 3;\r\n    position: absolute;\r\n    border-radius: 5px;  \r\n}\r\n\r\n#myGrid{\r\n    z-index: 2;\r\n    position: absolute;\r\n    border: 3px solid rgb(55, 55, 55);\r\n    border-radius: 5px;\r\n}\r\n\r\n#prevCanvas {\r\n    width: 300px;\r\n    height: 215px;\r\n    border: 3px solid rgb(55, 55, 55);\r\n    border-radius: 5px;\r\n    background-repeat: no-repeat, no-repeat, no-repeat;\r\n    background-size: 100%\r\n}\r\n\r\n.preview {\r\n    margin: 10px 10px;\r\n}\r\n\r\n.play-wrapper {\r\n    align-content: center;\r\n    background-color: rgb(90, 90, 90);\r\n    border: 3px solid rgb(55, 55, 55);\r\n}\r\n\r\n.transform-tool {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-top: 5px;\r\n    background-color: rgb(90, 90, 90);\r\n    border: 3px solid rgb(55, 55, 55);\r\n}\r\n\r\n.layers-tool{\r\n    display: flex;\r\n    flex-direction: column;\r\n    overflow-y: scroll;\r\n    margin-top: 5px;\r\n    height: 120px;\r\n    background-color: rgb(90, 90, 90);\r\n    border: 3px solid rgb(55, 55, 55);\r\n}\r\n\r\n.layers-tool::-webkit-scrollbar {\r\n    width: 1px;\r\n    background-color: rgb(255, 255, 255);\r\n}\r\n\r\n.layers-tool::-webkit-scrollbar-thumb {\r\n    background-color: rgb(0, 0, 0);\r\n}\r\n\r\n.play,\r\n.stop,\r\n.full,\r\n.turn,\r\n.clone,\r\n.mirror {\r\n    margin: 5px 5px;\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 5px;\r\n    border: 1px solid rgb(0, 0, 0);\r\n    background-color: rgb(255, 255, 255);\r\n}\r\n.turn,\r\n.clone,\r\n.mirror {\r\n    width: 37px;\r\n    height: 37px;\r\n}\r\n\r\n.save-wrapper {\r\n    display: inline-grid;\r\n}\r\n\r\n.saveImg,\r\n.saveLocal,\r\n.saveAnimation {\r\n    margin: 1px 1px;\r\n    background-color: rgb(0, 0, 0);\r\n    color: rgb(255, 255, 255);\r\n    border: 1px solid rgb(32, 32, 32);\r\n    border-radius: 3px;\r\n    text-align: left;\r\n}\r\n\r\n.addLayer {\r\n    padding-top: 7px;\r\n    width: 230px;\r\n    text-align: center;\r\n    font-size: larger;\r\n    border-radius: 5px;\r\n    background-color: rgb(255, 255, 255);\r\n    border: 1px solid rgb(0, 0, 0);\r\n}\r\n\r\n.layerUp,\r\n.layerDown {\r\n    width: 40px;\r\n    height: 20px;\r\n    margin: 2px 2px;\r\n    background-color: rgb(255, 255, 255);\r\n    border: 1px solid rgb(0, 0, 0);\r\n}\r\n\r\n.layer-delete {\r\n    margin: 2px 5px;\r\n    background-color: rgb(255, 255, 255);\r\n    border: 1px solid rgb(0, 0, 0);\r\n}\r\n\r\n.layers_button-wrapper {\r\n    display: flex;\r\n}\r\n\r\n.layer-move-wrapper {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.layer {\r\n    width: 330px;\r\n    height: 15px;\r\n    text-align: center;\r\n    border-radius: 3px;\r\n    margin: 1px;\r\n    background-color: rgb(255, 255, 255);\r\n    border: 1px solid rgb(0, 0, 0);\r\n}\r\n\r\n#range-wrapper {\r\n    display: none;\r\n    font-size: 15px;\r\n}\r\n\r\n.coordinates_data {\r\n    text-align: end;\r\n}",""])},function(t,e,r){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=(o=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),s=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[r].concat(s).concat([i]).join("\n")}var o;return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var s=this[i][0];null!=s&&(n[s]=!0)}for(i=0;i<t.length;i++){var o=t[i];null!=o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),e.push(o))}},e}},function(t,e,r){var n,i,s={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),a=function(t){var e={};return function(t,r){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),h=null,l=0,c=[],d=r(5);function u(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=s[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(y(n.parts[o],e))}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(y(n.parts[o],e));s[n.id]={id:n.id,refs:1,parts:a}}}}function p(t,e){for(var r=[],n={},i=0;i<t.length;i++){var s=t[i],o=e.base?s[0]+e.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};n[o]?n[o].parts.push(a):r.push(n[o]={id:o,parts:[a]})}return r}function f(t,e){var r=a(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),c.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertAt.before,r);r.insertBefore(e,i)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return r.nc}();n&&(t.attrs.nonce=n)}return v(e,t.attrs),f(t,e),e}function v(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function y(t,e){var r,n,i,s;if(e.transform&&t.css){if(!(s="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=s}if(e.singleton){var o=l++;r=h||(h=g(e)),n=x.bind(null,r,o,!1),i=x.bind(null,r,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),f(t,e),e}(e),n=function(t,e,r){var n=r.css,i=r.sourceMap,s=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||s)&&(n=d(n));i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}.bind(null,r,e),i=function(){m(r),r.href&&URL.revokeObjectURL(r.href)}):(r=g(e),n=function(t,e){var r=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),i=function(){m(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=p(t,e);return u(r,e),function(t){for(var n=[],i=0;i<r.length;i++){var o=r[i];(a=s[o.id]).refs--,n.push(a)}t&&u(p(t,e),e);for(i=0;i<n.length;i++){var a;if(0===(a=n[i]).refs){for(var h=0;h<a.parts.length;h++)a.parts[h]();delete s[a.id]}}}};var w,b=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function x(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var s=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,n=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,s=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(i=0===s.indexOf("//")?s:0===s.indexOf("/")?r+s:n+s.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,r){"use strict";r.r(e);class n{constructor(){this.frames=[],this.framesTwo=[],this.framsAnim=[],this.framesWrapper=document.querySelector(".frames-wrapper"),this.frameTemplate=document.querySelector("#frame-template"),this.layerWrapper=document.querySelector(".lyers-wrapper"),this.layerTemplate=document.getElementById("layer-template")}addEndFrams(t){this.framsAnim.push(t)}clearFrams(){this.framsAnim=[]}frameDraw(t=1e3,e,r,n){let i,s=[],o=[];return 1e3===t?(s.push(e),i=r,o.push(n)):(s=this.framesTwo[t].img.slice(),i=this.framesTwo[t].background,o=this.frames[t].data.slice()),this.framesTwo.push({img:s,background:i}),this.frames.push({data:o,background:i}),{url:o,id:this.frames.length-1}}frameDeleteHandler(t){this.framesTwo.splice(t,1),this.frames.splice(t,1)}saveFrameLayer(t,e,r,n,i){this.framesTwo[t].img[e]=r,this.framesTwo[t].background=n,this.frames[t].data[e]=i,this.frames[t].background=n}cloneFram(t){const e=this.framesTwo.length;for(let r=0;r<e;r+=1){const e={},n={};Object.assign(e,this.framesTwo[t]),Object.assign(n,this.frames[t]),this.framesTwo[r]=e,this.frames[r]=n}}addLayerforFrams(t,e,r,n){null!==t&&(this.framesTwo[t].img.push(e),this.framesTwo[t].background=r,this.frames[t].data.push(n),this.frames[t].background=r)}getNexNum(t=0){return this.framesTwo[t].img.length-1}deleteLayer(t,e){this.framesTwo[t].img.splice(e,1),this.frames[t].data.splice(e,1)}changeLayer(t,e,r){const n=this.framesTwo[t].img[e],i=this.frames[t].data[e];let s=0;return s=Number(e)+Number(r)===-1?this.framesTwo[t].img.length-1:Number(e)+Number(r)===this.framesTwo[t].img.length?0:Number(e)+Number(r),this.framesTwo[t].img[e]=this.framesTwo[t].img[s],this.framesTwo[t].img[s]=n,this.frames[t].data[e]=this.frames[t].data[s],this.frames[t].data[s]=i,s}}var i=r(0),s=r.n(i);class o{constructor(){this.canvas_cont=document.querySelector(".canvas"),this.prevCanvas=document.getElementById("prevCanvas"),this.canvas=document.getElementById("myCanvas"),this.gridCanvas=document.getElementById("myGrid"),this.backgroundColor=document.getElementById("myColor"),this.context=this.canvas.getContext("2d"),this.paint=!1,this.color="black",this.backroundcolor="white",this.width=10,this.speed=1,this.active_num=null,this.next_layer=null,this.active_layer=null,this.img={img:null,posX:0,poxY:0},this.myAnimation,this.circle={x1:0,y1:0,y2:0,x2:0},this.rect={startX:0,startY:0,w:0,h:0},this.grid={cellsNumberX:64,cellsNumberY:64,lineX:this.canvas.width/64,lineY:this.canvas.height/64},this.Grid(),this.model=new n}Grid(){const t=this.gridCanvas.getContext("2d");t.strokeStyle="#808080";let e=0;for(let r=0;r<=this.grid.cellsNumberX;r+=1)t.beginPath(),t.moveTo(e,0),t.lineTo(e,this.canvas.height),t.stroke(),e+=this.grid.lineX;e=0;for(let r=0;r<=this.grid.cellsNumberY;r+=1)t.beginPath(),t.moveTo(0,e),t.lineTo(this.canvas.width,e),t.stroke(),e+=this.grid.lineY}changeWidth(t){this.width=t.target.value}down(t){this.paint=!0,this.context.beginPath();const e=t.pageX-this.canvas_cont.offsetLeft,r=t.pageY-this.canvas_cont.offsetTop;this.context.moveTo(e,r)}move(t,e="pen"){if(!0===this.paint){const r=t.pageX-this.canvas_cont.offsetLeft,n=t.pageY-this.canvas_cont.offsetTop;this.context.lineTo(r,n),this.context.lineWidth=this.width,"pen"===e?this.context.strokeStyle=this.color:this.context.globalCompositeOperation="destination-out",this.context.stroke()}}up(){this.paint=!1,this.context.globalCompositeOperation="source-over"}rectangle(t){this.context.fillStyle=this.color,this.context.lineWidth=this.width,"stroke"===t?this.context.strokeRect(this.rect.startX,this.rect.startY,this.rect.w,this.rect.h):this.context.fillRect(this.rect.startX,this.rect.startY,this.rect.w,this.rect.h)}downRectangle(t){this.rect.startX=t.pageX-this.canvas_cont.offsetLeft,this.rect.startY=t.pageY-this.canvas_cont.offsetTop,this.paint=!0}moveRectangle(t){this.paint&&(this.rect.w=t.pageX-this.canvas_cont.offsetLeft-this.rect.startX,this.rect.h=t.pageY-this.canvas_cont.offsetTop-this.rect.startY)}upRectangle(t="none"){this.rectangle(t),this.paint=!1}upLine(t){this.paint=!1;const e=t.pageX-this.canvas_cont.offsetLeft,r=t.pageY-this.canvas_cont.offsetTop;this.context.lineTo(e,r),this.context.lineWidth=this.width,this.context.stroke()}paintCircle(t){const e=.5*(this.x2-this.x1),r=.5*(this.y2-this.y1),n=this.x1+e,i=this.y1+r;this.context.beginPath(),this.context.lineWidth=this.width,this.context.moveTo(n+e*Math.cos(0),i+r*Math.sin(0));for(let t=.01;t<2*Math.PI-.01;t+=.01)this.context.lineTo(n+e*Math.cos(t),i+r*Math.sin(t));this.context.closePath(),"stroke"===t?(this.context.strokeStyle=this.color,this.context.stroke()):(this.context.fillStyle=this.color,this.context.fill())}downCircle(t){const e=this.canvas.getBoundingClientRect();this.x1=t.clientX-e.left,this.y1=t.clientY-e.top,this.paint=!0}moveCircle(t){if(!this.paint)return;const e=this.canvas.getBoundingClientRect();this.x2=t.clientX-e.left,this.y2=t.clientY-e.top}upCircle(t="none"){this.paintCircle(t),this.paint=!1}clear(){this.backroundcolor="white",this.backgroundColor.style.backgroundColor=this.backroundcolor,this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}frameDraw(t=1e3){const e=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),r=this.canvas.toDataURL(),n=this.model.frameDraw(t,e,this.backroundcolor,r);this.createFrame(n),this.clear(),document.querySelector(".lyers-wrapper").innerHTML="",this.drawLayer(0),this.active_num=this.model.framesTwo.length-1}createFrame(t={}){const e=document.importNode(this.model.frameTemplate.content,!0),r=e.querySelector(".frame");r.id=`${t.id}`,r.style.backgroundColor=this.model.frames[t.id].background;let n="";for(let e=0;e<this.model.frames[t.id].data.length;e+=1)n+=`url(${this.model.frames[t.id].data[e]}),`;n=n.slice(0,n.length-2),r.style.backgroundImage=`${n}`;const i=document.createDocumentFragment();e.querySelector(".button-delete").addEventListener("click",t=>this.frameDeleteHandler(t)),e.querySelector(".button-copy").addEventListener("click",t=>this.frameCopyHandler(t)),i.appendChild(e),this.model.framesWrapper.appendChild(i)}frameDeleteHandler(t){const e=t.target,r=e.classList.contains("button-delete")?e.parentElement.id:e.parentElement.parentElement.id;this.model.frameDeleteHandler(r),this.refactior()}frameCopyHandler(t){const e=t.target,r=e.classList.contains("button-copy")?e.parentElement.id:e.parentElement.parentElement.id;this.frameDraw(r),this.refactiorLayers(r),this.goToTheFram(this.active_num)}saveFrame(){if(0!==this.model.framesTwo.length){const t=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),e=this.canvas.toDataURL();this.model.saveFrameLayer(this.active_num,this.active_layer,t,this.backroundcolor,e),this.refactior()}}drawing(t=0,e=0){this.clear(),this.context.putImageData(this.model.framesTwo[t].img[e],0,0),this.backgroundColor.style.backgroundColor=this.model.framesTwo[t].background,this.backroundcolor=this.model.framesTwo[t].background}goToTheFram(t){this.active_num=t,this.drawing(t,0),this.refactiorLayers(t)}refactior(){this.model.framesWrapper.innerHTML="",this.model.frames.forEach((t,e)=>{this.createFrame({url:t,id:e})})}addNewLayer(){if(null!==this.active_num){const t=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),e=this.canvas.toDataURL();this.model.addLayerforFrams(this.active_num,t,this.backroundcolor,e),this.clear(),this.refactior(),this.next_layer=this.model.getNexNum(this.active_num),this.drawLayer(this.next_layer),this.active_layer=this.next_layer,this.active_layer=this.model.getNexNum(this.active_num)}}drawLayer(t){const e=document.importNode(this.model.layerTemplate.content,!0);e.querySelector(".layer").id=t,document.querySelector(".lyers-wrapper").appendChild(e)}refactiorLayers(t){document.querySelector(".lyers-wrapper").innerHTML="";const e=this.model.getNexNum(t);for(let t=0;t<=e;t+=1)this.drawLayer(t),this.active_layer=t}goToTheLayer(t){this.active_layer=t,this.drawing(this.active_num,t)}deleteNewLayer(){this.model.getNexNum(this.active_num)>0?(this.model.deleteLayer(this.active_num,this.active_layer),this.refactior(),this.refactiorLayers(this.active_num)):(this.model.frameDeleteHandler(this.active_num),this.refactior(),this.clear(),document.querySelector(".lyers-wrapper").innerHTML="")}layerMoving(t="up"){this.active_layer="up"===t?this.model.changeLayer(this.active_num,this.active_layer,-1):this.model.changeLayer(this.active_num,this.active_layer,1),this.goToTheLayer(this.active_layer)}changeColor(t){this.color=t.target.value}selectColor(t){const e=t.pageX-this.canvas_cont.offsetLeft,r=t.pageY-this.canvas_cont.offsetTop;return this.color=`rgba(${this.context.getImageData(e,r,1,1).data.join(", ")})`,this.context.getImageData(e,r,1,1).data}bucketFull(){this.backgroundColor.style.backgroundColor=this.color,this.backroundcolor=this.backgroundColor.style.backgroundColor}bucket(t,e={b:0,g:0,r:0}){const r=t.pageX-this.canvas_cont.offsetLeft,n=t.pageY-this.canvas_cont.offsetTop,i=this.context.getImageData(r,n,1,1).data,s=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),{data:o}=s;for(let t=0;t<o.length;t+=4)o[t]===i[0]&&o[t+1]===i[1]&&o[t+2]===i[2]&&(o[t]=e.r,o[t+1]=e.g,o[t+2]=e.b);this.context.putImageData(s,0,0)}transparency(t,e="light"){const r=t.pageX-this.canvas_cont.offsetLeft,n=t.pageY-this.canvas_cont.offsetTop,i=this.context.getImageData(r,n,1,1).data,s=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),{data:o}=s;for(let t=0;t<o.length;t+=4)o[t]===i[0]&&o[t+1]===i[1]&&o[t+2]===i[2]&&0!==o[t+3]&&("light"===e?o[t+3]-10>=0?o[t+3]=o[t+3]-10:o[t+3]=0:o[t+3]+10<=255?o[t+3]=o[t+3]+10:o[t+3]=255);this.context.putImageData(s,0,0)}changeSpeed(t){this.speed=1e3/t.target.value}drawingMin(t){let e="";for(let r=0;r<this.model.frames[t].data.length;r+=1)e+=`url(${this.model.frames[t].data[r]}),`;e=e.slice(0,e.length-2),this.prevCanvas.style.backgroundImage=`${e}`,this.prevCanvas.style.backgroundColor=this.model.frames[t].background}playFrams(){let t=0;0!==this.model.framesTwo.length&&(this.myAnimation=setInterval(()=>{this.drawingMin(t),t>=this.model.framesTwo.length-1?t=0:t+=1},this.speed))}stopPlay(){clearInterval(this.myAnimation)}fullScreen(){document.fullscreenElement?document.exitFullscreen():this.prevCanvas.requestFullscreen().catch(t=>{alert(`Error attempting to enable full-screen mode: ${t.message} (${t.name})`)})}turn(){this.clear();const t=new Image;t.src=this.model.frames[this.active_num].data[this.active_layer],this.context.save(),this.context.translate(this.context.canvas.width/2,this.context.canvas.height/2),this.context.rotate(Math.PI/2),this.context.drawImage(t,-t.width/2,-t.height/2),this.context.restore(),this.context.resetTransform(),this.saveFrame()}clone(){this.model.cloneFram(this.active_num),this.refactior()}mirror(){this.clear();const t=new Image;t.src=this.model.frames[this.active_num].data[this.active_layer],this.context.drawImage(t,t.width,0),this.context.save(),this.context.translate(t.width,0),this.context.scale(-1,1),this.context.drawImage(t,0,0),this.context.restore(),this.context.setTransform(1,0,0,1,0,0),this.context.resetTransform(),this.saveFrame()}downCanvas(t){this.paint=!0,this.img.img=new Image;const e=this.canvas.toDataURL();this.img.img.src=e,this.img.posX=t.pageX-this.canvas_cont.offsetLeft,this.img.posY=t.pageY-this.canvas_cont.offsetTop}moveCanvas(t){if(!0===this.paint){this.clear();const e=t.pageX-this.canvas_cont.offsetLeft-this.img.posX,r=t.pageY-this.canvas_cont.offsetTop-this.img.posY;this.context.drawImage(this.img.img,e,r)}}upCanvas(){this.paint=!1,this.saveFrame()}showCoordinates(t){document.querySelector(".coordinates").innerHTML="",document.querySelector(".coordinates").innerHTML=`<p class="coordinates_data">${(t.pageX-this.canvas_cont.offsetLeft)/64}/${(t.pageX-this.canvas_cont.offsetLeft)/64}</p>`}saveCanvasAsImageFile(){const t=this.canvas.toDataURL(),e=new Image;e.src=t,function(t){const e=document.createElement("a");e.setAttribute("href",t.src),e.setAttribute("download","canvasImage"),e.click()}(e)}PrevAnimation(){const t=this.canvas.toDataURL();this.model.addEndFrams(t),this.model.addEndFrams(t);for(let t=0;t<this.model.frames.length;t+=1){let e=this.model.frames[t].data.length;for(let r=0;r<e;r+=1){this.context.fillStyle=this.model.frames[t].background,this.context.fillRect(0,0,this.canvas.width,this.canvas.height);const e=new Image;e.src=this.model.frames[t].data[r],this.context.drawImage(e,0,0)}const r=this.canvas.toDataURL();this.model.addEndFrams(r),this.clear()}}saveAnimation(){this.PrevAnimation();const t=new s.a({workers:2,quality:1,width:644,height:454});for(let e=0;e<this.model.framsAnim.length;e+=1){const r=new Image;r.src=this.model.framsAnim[e],t.addFrame(r,{delay:this.speed})}let e;t.render(),t.on("finished",t=>{e=URL.createObjectURL(t),console.log(e),function(t){const e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download","filename"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}(e)}),this.model.clearFrams()}}function a(t){const e=t.toString(16);return 1===e.length?`0${e}`:e}function h(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}r(1);r.d(e,"default",function(){return l});class l{constructor(){this.view=new o,this.dones=["turn","clone","mirror","bucket-full","bucket","lighten","blackout","pipette","pen","line","eraser","rectngle","stroke-rectngle","circle","stroke-circle","play","stop","full","save","add","move","save_ses","addLayer"],this.do="pen",this.was="pen",this.tools=document.querySelector(".tools"),this.player=document.querySelector(".play-wrapper"),this.framsControl=document.querySelector(".button-wrapper"),this.transformControl=document.querySelector(".transform-tool"),document.getElementById("get_color").addEventListener("change",t=>this.view.changeColor(t)),document.getElementById("speed").addEventListener("change",t=>this.view.changeSpeed(t)),document.querySelector(".addLayer").addEventListener("click",()=>this.view.addNewLayer()),document.querySelector(".layer-delete").addEventListener("click",()=>this.view.deleteNewLayer()),document.querySelector(".layerUp").addEventListener("click",()=>this.view.layerMoving("up")),document.querySelector(".layerDown").addEventListener("click",()=>this.view.layerMoving("down")),document.querySelector(".saveImg").addEventListener("click",()=>this.view.saveCanvasAsImageFile()),document.querySelector(".saveAnimation").addEventListener("click",()=>this.view.saveAnimation()),document.addEventListener("keypress",t=>this.setTool(t)),this.tools.addEventListener("click",t=>{this.done(t),"pen"===this.do||"eraser"===this.do||"line"===this.do||"circle"===this.do||"stroke-circle"===this.do||"stroke-rectngle"===this.do||"rectngle"===this.do?(document.getElementById("range-wrapper").style.display="block",document.getElementById("width").addEventListener("change",t=>this.view.changeWidth(t))):document.getElementById("range-wrapper").style.display="none"}),this.framsControl.addEventListener("click",t=>{this.done(t),"add"===this.do&&(this.do=this.was,this.view.frameDraw()),"save"===this.do&&(this.do=this.was,this.view.saveFrame())}),this.player.addEventListener("click",t=>{this.done(t),"play"===this.do&&(this.view.playFrams(),this.do=this.was,document.querySelector(".play").disabled=!0),"stop"===this.do&&(document.querySelector(".play").disabled=!1,this.do=this.was,this.view.stopPlay()),"full"===this.do&&(this.do=this.was,this.view.fullScreen())}),this.transformControl.addEventListener("click",t=>{this.done(t),"turn"===this.do&&this.view.turn(),"clone"===this.do&&this.view.clone(),"mirror"===this.do&&this.view.mirror(),this.do=this.was}),this.view.canvas.addEventListener("click",t=>{"bucket-full"===this.do&&this.view.bucketFull(h(this.view.color)),"bucket"===this.do&&this.view.bucket(t,h(this.view.color)),"pipette"===this.do&&(document.getElementById("get_color").value=function(t=[0,0,0,0]){return`#${a(t[0])}${a(t[1])}${a(t[2])}`}(this.view.selectColor(t))),"lighten"===this.do&&this.view.transparency(t),"blackout"===this.do&&this.view.transparency(t,"blackout")}),this.view.canvas.addEventListener("mousemove",t=>{this.view.showCoordinates(t)}),this.view.canvas.addEventListener("mouseout",()=>{document.querySelector(".coordinates").innerHTML=""}),this.view.canvas.addEventListener("mousedown",t=>{"pen"===this.do&&this.view.down(t),"line"===this.do&&this.view.down(t),"eraser"===this.do&&this.view.down(t),"circle"!==this.do&&"stroke-circle"!==this.do||this.view.downCircle(t),"rectngle"!==this.do&&"stroke-rectngle"!==this.do||this.view.downRectangle(t),"move"===this.do&&this.view.downCanvas(t)}),this.view.canvas.addEventListener("mousemove",t=>{"pen"===this.do&&this.view.move(t),"eraser"===this.do&&this.view.move(t,"eraser"),"circle"!==this.do&&"stroke-circle"!==this.do||this.view.moveCircle(t),"rectngle"!==this.do&&"stroke-rectngle"!==this.do||this.view.moveRectangle(t),"move"===this.do&&this.view.moveCanvas(t)}),this.view.canvas.addEventListener("mouseup",t=>{"pen"===this.do&&this.view.up(),"line"===this.do&&this.view.upLine(t),"eraser"===this.do&&this.view.up(),"circle"===this.do&&this.view.upCircle(),"stroke-circle"===this.do&&this.view.upCircle("stroke"),"rectngle"===this.do&&this.view.upRectangle(),"stroke-rectngle"===this.do&&this.view.upRectangle("stroke"),"move"===this.do&&this.view.upCanvas()}),this.view.model.framesWrapper.addEventListener("click",t=>{if("BUTTON"===t.target.nodeName||"I"===t.target.nodeName)t.stopPropagation();else{const e=t.target.id;this.view.goToTheFram(e)}}),this.view.model.layerWrapper.addEventListener("click",t=>{const e=t.target.id;null!==e&&this.view.goToTheLayer(e)})}done(t){const e=t.target.classList.contains("material-icons")||"IMG"===t.target.nodeName?t.target.parentElement.className:t.target.className;this.was="add"!==this.do||"save"!==this.do||"play"!==this.do||"stop"!==this.do||"full"!==this.do||"clone"!==this.do||"turn"!==this.do?this.do:this.was,this.do=-1!==this.dones.indexOf(e)?e:"pen"}setTool(t){49===t.keyCode?this.do="pen":50===t.keyCode?this.do="line":51===t.keyCode?this.do="eraser":52===t.keyCode?this.do="bucket-full":53===t.keyCode?this.do="bucket":54===t.keyCode?this.do="pipette":55===t.keyCode?this.do="blackout":56===t.keyCode?this.do="lighten":57===t.keyCode?this.do="rectngle":58===t.keyCode&&(this.do="stroke-rectngle")}}const c=new l;document.addEventListener("DOMContentLoaded",c.init)}]);